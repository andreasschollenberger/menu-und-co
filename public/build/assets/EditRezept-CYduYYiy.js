import{_ as k,i as F,c as n,d as e,y as b,w as c,m as v,F as _,e as m,v as y,o,z,k as V,t as g,n as f,p as w,h as x,a as U}from"./app-_zE6DHIF.js";import{_ as S}from"./rezept-senden-bnt-B8o6PVfI.js";const h=F.create({baseURL:"https://www.menueundco.ch/api",withCredentials:!0}),C={data(){return{title:"",dish_id:"",recipes_group_id:"",imageUrl:null,image:null,selectedCountry:"",countries:[],allergies:[],allergy_selected:[],vitamins:[],vitamins_selected:[],textValue:"",fields:[{textValue:""}],addFieldClicked:!1,zFields:[{ztextValue:""}],addzFieldClicked:!1,numberValue:"",unitValue:"",ztextValue:"",dishes:[],recipes_groups:[],country_id:"",recipeId:this.$route.params.id}},mounted(){this.getDishes(),this.getRecipesGroups(),this.getCountry(),this.getAllergies(),this.getVitamins(),this.loadRecipe()},methods:{async getDishes(){try{const t=await h.get("/dishes");this.dishes=t.data}catch(t){console.error(t)}},async getRecipesGroups(){try{const t=await h.get("/recipes/groups");this.recipes_groups=t.data}catch(t){console.error(t)}},async getCountry(){try{const t=await h.get("/countries");this.countries=t.data}catch(t){console.error(t)}},async getAllergies(){try{const t=await h.get("/allergies");this.allergies=t.data}catch(t){console.error(t)}},async getVitamins(){try{const t=await h.get("/vitamins");this.vitamins=t.data}catch(t){console.error(t)}},async loadRecipe(){try{const t=await h.get(`/recipes/${this.recipeId}`);console.log(t.data);const s=t.data.data;this.title=s.title,this.dish_id=s.dish_id,this.recipes_group_id=s.recipes_group_id,this.country_id=s.country_id,this.fields=JSON.parse(s.ingredients),this.zFields=JSON.parse(s.instructions),this.allergy_selected=s.allergies.map(p=>p.id),this.vitamins_selected=s.vitamins.map(p=>p.id),this.imageUrl="/storage/"+s.image}catch(t){console.error(t)}},handleFileUpload(t){const s=t.target.files[0],p=new FileReader;p.onload=()=>{this.imageUrl=p.result,this.image=s},p.readAsDataURL(s)},addFields(){this.fields.push({textValue:""})},addzFields(){this.zFields.push({ztextValue:""})},removeField(t){this.fields.splice(t,1)},removezField(t){this.zFields.splice(t,1)},async submitForm(){const t=new FormData;t.append("image",this.image),t.append("title",this.title),t.append("dish_id",this.dish_id),t.append("recipes_group_id",this.recipes_group_id),t.append("country_id",this.country_id),t.append("ingredients",JSON.stringify(this.fields)),t.append("instructions",JSON.stringify(this.zFields)),t.append("allergies",JSON.stringify(this.allergy_selected)),t.append("vitamins",JSON.stringify(this.vitamins_selected)),t.append("_method","put");try{await h.get("/sanctum/csrf-cookie"),await h.post(`/recipes/${this.recipeId}`,t,{headers:{"Content-Type":"multipart/form-data"}}),this.$router.push("/dashboard")}catch(s){console.error(s)}}}},r=t=>(w("data-v-9de34d7b"),t=t(),x(),t),R=r(()=>e("div",{class:"titel-text"},[e("h1",null,"Rezept editieren")],-1)),E={class:"titel"},L={class:"img-container"},N=r(()=>e("p",null,"Rezept Bild Hochladen",-1)),D=["src"],B={class:"r-titel"},M=r(()=>e("h4",null,"Neue Kategorie erstellen",-1)),Z={class:"h-label"},I={class:"h-label1"},J=["id","value"],K={class:"place2"},O={class:"h-label2"},T=["id","value"],A={class:"place3"},G={class:"t-label"},P=r(()=>e("label",{for:"herkunft"}," Das Rezept kommt aus?",-1)),W=r(()=>e("option",{value:"",disabled:"",selected:""},"Land auswählen",-1)),j=["value"],H={class:"zutaten"},q=r(()=>e("h2",null,"Zutaten erstellen",-1)),Q={class:"input-container"},X=r(()=>e("div",{class:"infobox"},[e("p",{class:"i-titel"},"Zutaten editieren:"),e("p",null,"Die Zutaten werden in der Reihenfolge angezeigt, in der sie hinzugefügt wurden. Zuerst wird die Menge wie z.B. 2, dann die Einheit wie z.B. EL (EL = Esslöffel) und zuletzt die Zutat wie z.B. Mehl angezeigt."),e("p",null,"Eine neue Zutat können durch Klicken auf das Pluszeichen hinzugefühgt werden."),e("p",null," Mit dem Minuszeichen entfenen Sie ein feld."),e("p",null,"EL = Esslöffel, Kg. = Kilogramm, g = Gramm, Stk. = Stück l = Liter, Dl. = Deziliter, ml = Mililitter, n.B. = Nach belieben. ")],-1)),Y={class:"nr-container"},$=["onUpdate:modelValue"],ee=["onUpdate:modelValue"],te=U('<option value="EL" data-v-9de34d7b>EL</option><option value="kg" data-v-9de34d7b>Kg.</option><option value="g" data-v-9de34d7b>g</option><option value="stk" data-v-9de34d7b>Stk.</option><option value="l" data-v-9de34d7b>l.</option><option value="dl" data-v-9de34d7b>Dl.</option><option value="bund" data-v-9de34d7b>ml.</option><option value="prise" data-v-9de34d7b>Prise</option><option value="bund" data-v-9de34d7b>Bund</option><option value="bund" data-v-9de34d7b>Tasse</option><option value="nb" data-v-9de34d7b>n.B.</option>',11),ie=[te],se=["onUpdate:modelValue"],le=["onClick"],ne={class:"zu-container"},oe=r(()=>e("h2",null,"Zubereitung detailiert eintragen",-1)),de=["onUpdate:modelValue"],ae=["onClick"],re={class:"allergene"},ue=r(()=>e("h2",null,"Mögliche Allergene im Rezept",-1)),ce={class:"checkbox-container"},pe=["id","name","value"],he=["for"],_e={class:"vitamin-contanier"},me=r(()=>e("h2",null,"Vitaminangaben",-1)),ge={class:"input-container"},ve=r(()=>e("div",{class:"infobox2"},[e("p",{class:"i-titel"},"Vitaminangaben:"),e("p",null,"Welche Vitamine sind in Ihrem Rezept? Nutzen Sie unsere Top-Vitamin-Lieferantenliste. Wählen Sie die Vitamine aus, die in Ihrem Rezept enthalten sind."),e("p",null,"Für jedes Vitamin haben wir eine Liste erstellt, die zeigt, in welchen Lebensmitteln es vorkommt. Zum Beispiel enthält Vitamin A: Leber, Milchprodukte, Eigelb, sowie buntes Gemüse wie Karotten und Spinat.")],-1)),be={class:"checkbox-container2"},ye=["id","name","value"],ze=["for"],Ve={class:"submit"};function fe(t,s,p,ke,l,u){return o(),n("main",null,[R,e("div",E,[e("div",L,[N,e("input",{type:"file",onChange:s[0]||(s[0]=(...i)=>u.handleFileUpload&&u.handleFileUpload(...i)),accept:"image/*"},null,32),l.imageUrl?(o(),n("img",{key:0,src:l.imageUrl,alt:"Uploaded Image"},null,8,D)):b("",!0)]),e("div",B,[c(e("input",{class:"r-box",type:"text",placeholder:"Rezept Titel eingeben","onUpdate:modelValue":s[1]||(s[1]=i=>l.title=i)},null,512),[[v,l.title]]),M,e("form",Z,[e("div",I,[(o(!0),n(_,null,m(l.dishes,i=>(o(),n("label",{key:i.id},[c(e("input",{type:"radio",id:i.id,name:"dish_id",value:i.id,"onUpdate:modelValue":s[2]||(s[2]=d=>l.dish_id=d)},null,8,J),[[z,l.dish_id]]),V(" "+g(i.name),1)]))),128))])]),e("div",K,[e("div",O,[(o(!0),n(_,null,m(l.recipes_groups,i=>(o(),n("label",{key:i.id},[c(e("input",{type:"radio",id:i.id,name:"recipes_group_id",value:i.id,"onUpdate:modelValue":s[3]||(s[3]=d=>l.recipes_group_id=d)},null,8,T),[[z,l.recipes_group_id]]),V(" "+g(i.name),1)]))),128))])]),e("div",A,[e("div",G,[P,c(e("select",{"onUpdate:modelValue":s[4]||(s[4]=i=>l.country_id=i)},[W,(o(!0),n(_,null,m(l.countries,i=>(o(),n("option",{key:i.id,value:i.id},g(i.name),9,j))),128))],512),[[y,l.country_id]])])])])]),e("div",H,[q,e("div",Q,[X,e("div",Y,[(o(!0),n(_,null,m(l.fields,(i,d)=>(o(),n("div",{class:"input-container1",key:d},[c(e("input",{class:"nr-field",type:"number",placeholder:"Einheit Eingeben (Zahl)","onUpdate:modelValue":a=>i.numberValue=a},null,8,$),[[v,i.numberValue]]),c(e("select",{class:"el-drop","onUpdate:modelValue":a=>i.unitValue=a},ie,8,ee),[[y,i.unitValue]]),c(e("textarea",{class:"textfield-zu",placeholder:"Zutat Eingeben","onUpdate:modelValue":a=>i.textValue=a},null,8,se),[[v,i.textValue]]),e("button",{class:"plus-b",onClick:s[5]||(s[5]=(...a)=>u.addFields&&u.addFields(...a))},"+"),d!==0||l.addFieldClicked?(o(),n("button",{key:0,class:"minus-b",onClick:a=>u.removeField(d)},"-",8,le)):b("",!0)]))),128))])])]),e("div",ne,[e("div",null,[oe,(o(!0),n(_,null,m(l.zFields,(i,d)=>(o(),n("div",{class:"zubereitung",key:d},[c(e("textarea",{class:"textfield",placeholder:"Zubereitung Schritt eintragen","onUpdate:modelValue":a=>i.ztextValue=a},null,8,de),[[v,i.ztextValue]]),e("button",{class:"plus-b",onClick:s[6]||(s[6]=(...a)=>u.addzFields&&u.addzFields(...a))},"+"),d!==0||l.addzFieldClicked?(o(),n("button",{key:0,class:"minus-b",onClick:a=>u.removezField(d)},"-",8,ae)):b("",!0)]))),128))])]),e("div",re,[ue,e("div",ce,[(o(!0),n(_,null,m(l.allergies,i=>(o(),n("div",{key:i.id,class:"al-box"},[c(e("input",{type:"checkbox",id:i.id,name:i.id,value:i.id,"onUpdate:modelValue":s[7]||(s[7]=d=>l.allergy_selected=d)},null,8,pe),[[f,l.allergy_selected]]),e("label",{for:i.id},g(i.name),9,he)]))),128))])]),e("div",_e,[me,e("div",ge,[ve,e("div",be,[(o(!0),n(_,null,m(l.vitamins,i=>(o(),n("div",{key:i.id,class:"al-box"},[c(e("input",{type:"checkbox",id:i.id,name:i.id,value:i.id,"onUpdate:modelValue":s[8]||(s[8]=d=>l.vitamins_selected=d)},null,8,ye),[[f,l.vitamins_selected]]),e("label",{for:i.id},g(i.name),9,ze)]))),128))])])]),e("div",Ve,[e("img",{src:S,alt:"Submit",onClick:s[9]||(s[9]=(...i)=>u.submitForm&&u.submitForm(...i))})])])}const xe=k(C,[["render",fe],["__scopeId","data-v-9de34d7b"]]);export{h as authClient,xe as default};
