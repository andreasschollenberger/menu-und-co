import{_ as g,b as _,r as f,c as i,d as t,F as c,e as u,w as v,v as m,o as r,t as o,f as y,g as k,p as R,h as b}from"./app-CAwx0KEc.js";const C={data(){return{dishes:[],recipes_groups:[],countries:[],allergies:[],allergy_id:null,recipes:[],dish_id:null,recipes_group_id:null,country_id:null,filteredRecipes:[]}},mounted(){this.getDishes(),this.getRecipesGroups(),this.getCountry(),this.getAllergies(),this.fetchRecipes()},methods:{filterRecipes(){this.filteredRecipes=this.recipes.filter(e=>(!this.dish_id||e.dish_id===this.dish_id)&&(!this.recipes_group_id||e.recipes_group_id===this.recipes_group_id)&&(!this.country_id||e.country_id===this.country_id)&&(!this.allergy_id||!e.allergies.some(d=>d.id===this.allergy_id)))},filterByDish(e){this.dish_id=e,this.filterRecipes()},filterByRecipesGroup(e){this.recipes_group_id=e,this.filterRecipes()},filterByCountry(){this.filterRecipes()},filterByAllergy(e){this.allergy_id=e,this.filterRecipes()},async fetchRecipes(){try{const e=await _.get("/recipes");this.recipes=e.data.data,console.log("Rezepte:",this.recipes),this.filteredRecipes=this.recipes}catch(e){console.error("Fehler beim Abrufen der Rezepte:",e)}},async getDishes(){try{const e=await _.get("/dishes");this.dishes=e.data}catch(e){console.error(e)}},async getRecipesGroups(){try{const e=await _.get("/recipes/groups");this.recipes_groups=e.data}catch(e){console.error(e)}},async getCountry(){try{const e=await _.get("/countries");this.countries=e.data}catch(e){console.error(e)}},async getAllergies(){try{const e=await _.get("/allergies");this.allergies=e.data}catch(e){console.error(e)}}}},l=e=>(R("data-v-d7d8597c"),e=e(),b(),e),w={class:"filter-container"},B=l(()=>t("h1",null,"Menü und Co Filter",-1)),x={class:"kategorie"},A=l(()=>t("h2",null,"Kategorie Filter",-1)),z={class:"filter-box"},D=["id","value","onClick"],F={class:"place3"},I={class:"kategorie"},S=l(()=>t("h2",null,"Neigung Filter",-1)),G={class:"filter-box"},N=["id","value","onClick"],V={class:"t-label"},H={class:"kategorie"},K=l(()=>t("label",{for:"herkunft"},"Filter für die Herkunft des Rezeptes. ",-1)),L=l(()=>t("option",{value:"",disabled:"",selected:""},"Land auswählen",-1)),M=["value"],E={class:"allergie-box"},U={class:"kategorie"},j=l(()=>t("div",null,[t("p",null,"Der Allergiefilter verhindert, dass Rezepte mit allergenen Inhaltsstoffen angezeigt werden, falls diese vom Autor vermerkt wurde.")],-1)),q={class:"filter-box"},J=["id","name","value","onClick"],O={class:"r-card"},P={class:"menu-container"},Q=["src"],T={class:"menu-text"},W={class:"titel"},X={class:"kategorie"},Y={class:"herkunft"},Z={class:"vegi"},$={class:"autor"},ee={class:"button"},se=l(()=>t("button",{class:"ansicht"},"Rezept Anschauen",-1));function te(e,d,ie,re,n,a){const p=f("router-link");return r(),i(c,null,[t("div",w,[B,t("div",x,[A,t("div",z,[(r(!0),i(c,null,u(n.dishes,s=>(r(),i("button",{class:"filter-bnt",key:s.id,id:s.id,name:"dish_id",value:s.id,onClick:h=>a.filterByDish(s.id)},o(s.name),9,D))),128))])]),t("div",F,[t("div",I,[S,t("div",G,[(r(!0),i(c,null,u(n.recipes_groups,s=>(r(),i("button",{class:"filter-bnt",key:s.id,id:s.id,name:"recipes_group_id",value:s.id,onClick:h=>a.filterByRecipesGroup(s.id)},o(s.name),9,N))),128))])]),t("div",V,[t("div",H,[K,v(t("select",{"onUpdate:modelValue":d[0]||(d[0]=s=>n.country_id=s),onChange:d[1]||(d[1]=(...s)=>a.filterByCountry&&a.filterByCountry(...s))},[L,(r(!0),i(c,null,u(n.countries,s=>(r(),i("option",{key:s.id,value:s.id},o(s.name),9,M))),128))],544),[[m,n.country_id]])])]),t("div",E,[t("div",U,[j,t("div",q,[(r(!0),i(c,null,u(n.allergies,s=>(r(),i("button",{key:s.id,class:"al-box",id:s.id,name:s.id,value:s.id,onClick:h=>a.filterByAllergy(s.id)},o(s.name),9,J))),128))])])])])]),t("div",O,[(r(!0),i(c,null,u(n.filteredRecipes,(s,h)=>(r(),i("div",{class:"menucard",key:h},[t("div",P,[t("img",{class:"menuimg",src:`/storage/${s.image}`,alt:""},null,8,Q),t("div",T,[t("div",W,o(s.title),1),t("div",X," Kategorie: "+o(s.dish_name),1),t("div",Y,"Herkunft: "+o(s.country_name),1),t("div",Z,"Neigung: "+o(s.recipes_group_name),1),t("div",$,"Autor: "+o(s.user_first_name),1),t("div",ee,[y(p,{to:{name:"rezept",params:{id:s.id}}},{default:k(()=>[se]),_:2},1032,["to"])])])])]))),128))])],64)}const ne=g(C,[["render",te],["__scopeId","data-v-d7d8597c"]]);export{ne as default};
