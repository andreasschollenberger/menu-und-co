import{_ as g,b as f,d as c,r as v,c as i,e as s,F as a,f as d,w as m,v as y,o as r,t as o,g as b,h as k,p as R,i as C}from"./app-DrIx3AF4.js";const w={data(){return{dishes:[],recipes_groups:[],countries:[],allergies:[],recipes:[],dish_id:null,recipes_group_id:null,country_id:null,filteredRecipes:[]}},mounted(){this.getDishes(),this.getRecipesGroups(),this.getCountry(),this.getAllergies(),this.fetchRecipes()},methods:{filterByDish(t){this.dish_id=t,this.applyFilters()},filterByRecipesGroup(t){this.recipes_group_id=t,this.applyFilters()},filterByCountry(){this.applyFilters()},async applyFilters(){try{const t=await f.get("/api/recipes",{params:{dish_id:this.dish_id,recipes_group_id:this.recipes_group_id,country_id:this.country_id}});this.filteredRecipes=t.data.data,console.log("filteredRecipe:",this.filteredRecipe)}catch(t){console.error("Fehler beim Abrufen der gefilterten Rezepte:",t)}},async fetchRecipes(){try{const t=await c.get("/recipes");this.recipes=t.data.data,console.log("Rezepte:",this.recipes),this.filteredRecipes=this.recipes}catch(t){console.error("Fehler beim Abrufen der Rezepte:",t)}},async getDishes(){try{const t=await c.get("/dishes");this.dishes=t.data}catch(t){console.error(t)}},async getRecipesGroups(){try{const t=await c.get("/recipes/groups");this.recipes_groups=t.data}catch(t){console.error(t)}},async getCountry(){try{const t=await c.get("/countries");this.countries=t.data}catch(t){console.error(t)}},async getAllergies(){try{const t=await c.get("/allergies");this.allergies=t.data}catch(t){console.error(t)}}}},l=t=>(R("data-v-364deb15"),t=t(),C(),t),F={class:"filter-container"},x=l(()=>s("h1",null,"Menü und Co Filter",-1)),B={class:"kategorie"},z=l(()=>s("h2",null,"Kategorie Filter",-1)),A={class:"filter-box"},D=["id","value","onClick"],I={class:"place3"},S=l(()=>s("h2",null,"Neigung Filter",-1)),G={class:"filter-box"},N=["id","value","onClick"],V={class:"t-label"},H=l(()=>s("label",{for:"herkunft"},"Filter für die Herkunft des Rezeptes. ",-1)),K=l(()=>s("option",{value:"",disabled:"",selected:""},"Land auswählen",-1)),L=["value"],M={class:"allergie-box"},E=l(()=>s("div",null,[s("p",null,"Der Allergiefilter verhindert, dass Rezepte mit allergenen Inhaltsstoffen angezeigt werden, falls diese vom Autor vermerkt wurde.")],-1)),U={class:"filter-box"},j=["id","name","value"],q={class:"r-card"},J={class:"menu-container"},O=["src"],P={class:"menu-text"},Q={class:"titel"},T={class:"kategorie"},W={class:"herkunft"},X={class:"vegi"},Y={class:"autor"},Z={class:"button"},$=l(()=>s("button",{class:"ansicht"},"Rezept Anschauen",-1));function ee(t,_,te,se,n,u){const p=v("router-link");return r(),i(a,null,[s("div",F,[x,s("div",B,[z,s("div",A,[(r(!0),i(a,null,d(n.dishes,e=>(r(),i("button",{class:"filter-bnt",key:e.id,id:e.id,name:"dish_id",value:e.id,onClick:h=>u.filterByDish(e.id)},o(e.name),9,D))),128))])]),s("div",I,[S,s("div",G,[(r(!0),i(a,null,d(n.recipes_groups,e=>(r(),i("button",{class:"filter-bnt",key:e.id,id:e.id,name:"recipes_group_id",value:e.id,onClick:h=>u.filterByRecipesGroup(e.id)},o(e.name),9,N))),128))]),s("div",V,[H,m(s("select",{"onUpdate:modelValue":_[0]||(_[0]=e=>n.country_id=e),onChange:_[1]||(_[1]=(...e)=>u.filterByCountry&&u.filterByCountry(...e))},[K,(r(!0),i(a,null,d(n.countries,e=>(r(),i("option",{key:e.id,value:e.id},o(e.name),9,L))),128))],544),[[y,n.country_id]])]),s("div",M,[E,s("div",U,[(r(!0),i(a,null,d(n.allergies,e=>(r(),i("button",{key:e.id,class:"al-box",id:e.id,name:e.id,value:e.id},o(e.name),9,j))),128))])])])]),s("div",q,[(r(!0),i(a,null,d(n.filteredRecipes,(e,h)=>(r(),i("div",{class:"menucard",key:h},[s("div",J,[s("img",{class:"menuimg",src:`/storage/${e.image}`,alt:""},null,8,O),s("div",P,[s("div",Q,o(e.title),1),s("div",T," Kategorie: "+o(e.dish_name),1),s("div",W,"Herkunft: "+o(e.country_name),1),s("div",X,"Neigung: "+o(e.recipes_group_name),1),s("div",Y,"Autor: "+o(e.user_first_name),1),s("div",Z,[b(p,{to:{name:"rezept",params:{id:e.id}}},{default:k(()=>[$]),_:2},1032,["to"])])])])]))),128))])],64)}const re=g(w,[["render",ee],["__scopeId","data-v-364deb15"]]);export{re as default};
